<h2>Edit Post</h2>
<form action="/posts/<%= post.id %>?_method=PUT" method="POST">
    <label>Title:</label>
    <input type="text" name="title" value="<%= post.title %>" required>
    
    <label>Content:</label>
    <textarea id="postContent" name="content" required oninput="updateCharCount()"><%= post.content %></textarea>
    <p id="charCount">0 / 280</p>

    <button type="submit" id="submitBtn" disabled>Update</button>
</form>

<script>
    function updateCharCount() {
        const content = document.getElementById("postContent");
        const charCount = document.getElementById("charCount");
        const submitBtn = document.getElementById("submitBtn");

        let length = content.value.length;
        charCount.textContent = length + " / 280";

        if (length > 280) {
            charCount.style.color = "red";
            submitBtn.disabled = true;
        } else {
            charCount.style.color = "black";
            submitBtn.disabled = false;
        }
    }

    // Initialize character count on page load
    document.addEventListener("DOMContentLoaded", () => {
        updateCharCount();
    });
</script>
